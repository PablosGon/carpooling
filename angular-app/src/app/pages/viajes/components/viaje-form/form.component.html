@if (usuarioId) {
    <form>

        <label>Universidad</label>
        <select type="text" [(ngModel)]="universidadId" id="universidadForm" name="universidadId" (change)="getCentrosByUniversidadId(universidadId)" required>
            <option value="0">---</option>
            @for (uni of universidades; track $index) {
                <option value="{{uni.id}}">{{uni.nombre}}</option>
            }
        </select><br/>

        <label>Centro</label>
        <select type="text" [(ngModel)]="viaje.centro.id" id="centroForm" name="viaje.centro.id" required><br/>
            <option value="0">---</option>
            @for (centro of centros; track centro.id) {
                <option value="{{centro.id}}">{{centro.nombre}}</option>
            }
        </select><br/>

        <label>Municipio</label>
        <select type="text" [(ngModel)]="municipioId" id="municipioForm" name="municipioId" (change)="getNucleosByMunicipioId(municipioId)" required>
            <option value="0">---</option>
            @for (mun of municipios; track municipioId) {
                <option value="{{mun.id}}">{{mun.nombre}}</option>
            }
        </select><br/>

        <label>Núcleo</label>
        <select type="text" [(ngModel)]="viaje.nucleo.id" id="nucleoForm" name="viaje.nucleo.id" required>
            <option value="0">---</option>
            @for (nucleo of nucleos; track nucleo.id) {
                <option value="{{nucleo.id}}">{{nucleo.nombre}}</option>
            }
        </select><br/>

        <label>Dirección</label>
        <select type="text" [(ngModel)]="isVuelta" name="viaje.isVuelta">
            <option value="false">Ida (dirección universidad)</option>
            <option value="true">Vuelta (dirección casa)</option>
        </select> <br/>

        <label>Fecha y Hora</label>
        <input type="datetime-local" [(ngModel)]="viaje.fechaYHora" id="horaForm" name="viaje.fechaYHora" required><br/>
        <label>Número de plazas</label>
        <input type="number" [(ngModel)]="viaje.maxPlazas" id="maxPlazasForm" name="viaje.maxPlazas" required><br/>
        <label>Descripción del coche</label>
        <input type="text" [(ngModel)]="viaje.descripcionCoche" id="descripcionCocheForm" name="viaje.descripcionCoche" required><br/>
        <label>Comentarios adicionales</label>
        <input type="text" [(ngModel)]="viaje.comentarios" id="comentariosForm" name="viaje.comentarios" required><br/>
        <label>Precio</label>
        <input type="number" [(ngModel)]="viaje.precio" id="precioForm" name="viaje.precio" required><br/>
    
        <button type="button" (click)="submit()">Crear viaje</button>
    
    </form>
} @else {
    <p>Debes iniciar sesión para crear un viaje</p>
}

